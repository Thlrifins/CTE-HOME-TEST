
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <title>Saved Page</title>
          <style>h1 { color: green; text-align: center; }</style>
        </head>
        <body>
          <!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ร้านเจริญธรรมการไฟฟ้าสาขาใหญ่/CTE-HOME - เกมทดสอบ</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    max-width: 700px;
    margin: 20px auto;
    padding: 15px;
    background: #f0f8ff;
  }
  h1 {
    text-align: center;
    color: #004080;
  }
  #start-container, #quiz-container, #result, #history-container {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px #ccc;
    margin-top: 20px;
  }
  #start-container input[type="text"] {
    width: 100%;
    font-size: 18px;
    padding: 10px;
    border: 2px solid #004080;
    border-radius: 5px;
    box-sizing: border-box;
  }
  #start-container button,
  #quiz-container .answers button,
  #result button {
    display: block;
    margin: 12px auto;
    padding: 12px 25px;
    font-size: 18px;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #004080;
    color: white;
    transition: background-color 0.3s;
  }
  #start-container button:disabled,
  #quiz-container .answers button:disabled {
    background-color: #999999;
    cursor: not-allowed;
  }
  #start-container button:hover:not(:disabled),
  #quiz-container .answers button:hover:not(:disabled),
  #result button:hover {
    background-color: #0066cc;
  }
  .question {
    font-size: 1.2rem;
    margin-bottom: 15px;
    color: #003366;
  }
  .answers button {
    width: 100%;
    margin: 6px 0;
  }
  .score {
    font-weight: bold;
    font-size: 1.3rem;
    margin-top: 15px;
    text-align: center;
    color: #00264d;
  }
  .explanation {
    margin-top: 10px;
    font-style: italic;
    color: #004080;
    text-align: center;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  th, td {
    border: 1px solid #004080;
    padding: 8px;
    text-align: center;
    font-size: 0.9rem;
  }
  th {
    background-color: #cce0ff;
    color: #003366;
  }
  @media (max-width: 480px) {
    body {
      margin: 10px;
      padding: 10px;
    }
    h1 {
      font-size: 1.5rem;
    }
    #start-container button,
    #quiz-container .answers button,
    #result button {
      font-size: 16px;
      padding: 10px 20px;
    }
    th, td {
      font-size: 0.8rem;
      padding: 6px;
    }
  }
</style>
</head>
<body>

<h1>ร้านเจริญธรรมการไฟฟ้าสาขาใหญ่/CTE-HOME - เกมทดสอบ</h1>

<div id="history-container">
  <h2 style="color:#004080; text-align:center;">คะแนนย้อนหลังผู้เล่น</h2>
  <div id="history-table">โหลดข้อมูล...</div>
</div>

<div id="start-container">
  <label for="playerName" style="font-size:18px; color:#003366;">กรุณากรอกชื่อเล่นของคุณก่อนเริ่มเกม:</label>
  <input type="text" id="playerName" placeholder="เช่น สมชาย, น้ำฝน" />
  <button id="startBtn" disabled>เริ่มเกม</button>
</div>

<div id="quiz-container" style="display:none;">
  <div id="question" class="question"></div>
  <div id="answers" class="answers"></div>
</div>

<div id="result" style="display:none;"></div>

<script>
const quizData = [
  {
    question: "ร้านเจริญธรรมการไฟฟ้าขายสินค้าประเภทใดเป็นหลัก?",
    answers: [
      { text: "อุปกรณ์ไฟฟ้าและสายไฟ", correct: true },
      { text: "เครื่องใช้ไฟฟ้าในครัวเรือน", correct: false },
      { text: "เฟอร์นิเจอร์ไม้", correct: false },
      { text: "อุปกรณ์คอมพิวเตอร์", correct: false },
    ],
    explanation: "ร้านเน้นจำหน่ายอุปกรณ์ไฟฟ้าและสายไฟคุณภาพดี"
  },
  {
    question: "สายไฟประเภทใดที่ลูกค้าร้านเจริญธรรมการไฟฟ้าสามารถซื้อไปใช้กับบ้านทั่วไป?",
    answers: [
      { text: "สาย VCT", correct: true },
      { text: "สายเคเบิลไฟฟ้าแรงสูง", correct: false },
      { text: "สายไฟใต้ดิน", correct: false },
      { text: "สายไฟสำหรับโรงงานเท่านั้น", correct: false },
    ],
    explanation: "สาย VCT เป็นสายไฟที่เหมาะสำหรับใช้ในบ้านทั่วไป"
  },
  {
    question: "หากลูกค้าต้องการซื้อเบรกเกอร์เพื่อความปลอดภัย ควรเลือกเบรกเกอร์แบบใด?",
    answers: [
      { text: "เบรกเกอร์ MCCB", correct: false },
      { text: "เบรกเกอร์ MCB", correct: true },
      { text: "ฟิวส์แก้ว", correct: false },
      { text: "เบรกเกอร์อัตโนมัติแรงสูง", correct: false },
    ],
    explanation: "เบรกเกอร์ MCB เหมาะสำหรับบ้านและอาคารขนาดเล็ก"
  },
  {
    question: "ร้านเจริญธรรมการไฟฟ้ามีบริการอะไรเพิ่มเติมที่ช่วยลูกค้า?",
    answers: [
      { text: "บริการติดตั้งระบบไฟฟ้า", correct: true },
      { text: "บริการซ่อมเครื่องใช้ไฟฟ้า", correct: false },
      { text: "ขายอาหารและเครื่องดื่ม", correct: false },
      { text: "บริการออกแบบเว็บไซต์", correct: false },
    ],
    explanation: "ร้านมีบริการติดตั้งระบบไฟฟ้าและให้คำปรึกษา"
  },
  {
    question: "สำหรับลูกค้าที่ต้องการสายไฟที่ทนความร้อนสูง ควรเลือกสายไฟชนิดใด?",
    answers: [
      { text: "สายไฟ NYY", correct: true },
      { text: "สายไฟ THW", correct: false },
      { text: "สายไฟ VCT", correct: false },
      { text: "สายไฟ IEC", correct: false },
    ],
    explanation: "สายไฟ NYY เหมาะสำหรับงานที่ต้องทนความร้อนและสภาพอากาศ"
  },
  {
    question: "หากลูกค้าซื้อหลอดไฟ LED จากร้านเจริญธรรมการไฟฟ้า จุดเด่นของหลอดไฟ LED คืออะไร?",
    answers: [
      { text: "ประหยัดไฟฟ้าและอายุการใช้งานยาว", correct: true },
      { text: "ราคาถูกที่สุดในตลาด", correct: false },
      { text: "ใช้สำหรับไฟฟ้าแรงสูงเท่านั้น", correct: false },
      { text: "ใช้ได้กับสายไฟแรงต่ำเท่านั้น", correct: false },
    ],
    explanation: "หลอด LED ประหยัดไฟและใช้งานได้นานกว่าแบบเก่า"
  },
  {
    question: "ร้านเจริญธรรมการไฟฟ้าแนะนำให้ลูกค้าติดตั้งอุปกรณ์อะไรเพื่อป้องกันไฟฟ้ารั่ว?",
    answers: [
      { text: "เบรกเกอร์ไฟฟ้ารั่ว (RCCB)", correct: true },
      { text: "ฟิวส์แก้ว", correct: false },
      { text: "เบรกเกอร์ MCB ธรรมดา", correct: false },
      { text: "มิเตอร์ไฟฟ้า", correct: false },
    ],
    explanation: "RCCB เป็นอุปกรณ์ป้องกันไฟรั่วและช่วยเพิ่มความปลอดภัย"
  },
  {
    question: "หากลูกค้าต้องการสายไฟที่ใช้กับเครื่องจักรอุตสาหกรรม ควรเลือกสายไฟแบบใด?",
    answers: [
      { text: "สายไฟ NYY", correct: false },
      { text: "สายไฟ VCT", correct: false },
      { text: "สายไฟ THW", correct: true },
      { text: "สายไฟชนิดใดก็ได้", correct: false },
    ],
    explanation: "สายไฟ THW เหมาะสำหรับงานโรงงานและเครื่องจักรอุตสาหกรรม"
  },
  {
    question: "เมื่อซื้อสายไฟจากร้านเจริญธรรมการไฟฟ้า ลูกค้าควรตรวจสอบอะไรเพื่อความปลอดภัย?",
    answers: [
      { text: "ฉลากและมาตรฐานรับรอง", correct: true },
      { text: "สีสายไฟ", correct: false },
      { text: "ความยาวสายไฟเท่านั้น", correct: false },
      { text: "ราคาที่ถูกที่สุด", correct: false },
    ],
    explanation: "การตรวจสอบฉลากและมาตรฐานรับรองช่วยให้มั่นใจว่าสินค้าปลอดภัย"
  },
  {
    question: "ร้านเจริญธรรมการไฟฟ้าเน้นการให้บริการอะไรแก่ลูกค้าใหม่?",
    answers: [
      { text: "คำปรึกษาและแนะนำสินค้าอย่างละเอียด", correct: true },
      { text: "ส่วนลดใหญ่แต่ไม่มีบริการหลังการขาย", correct: false },
      { text: "ขายแต่สินค้าราคาถูก", correct: false },
      { text: "ขายแบบออนไลน์เท่านั้น", correct: false },
    ],
    explanation: "ร้านเน้นบริการให้คำปรึกษาอย่างละเอียดและดูแลลูกค้า"
  }
];

let currentQuestion = 0;
let score = 0;
let startTime = 0;
let playerName = '';

const startContainer = document.getElementById('start-container');
const quizContainer = document.getElementById('quiz-container');
const resultEl = document.getElementById('result');
const questionEl = document.getElementById('question');
const answersEl = document.getElementById('answers');
const playerNameInput = document.getElementById('playerName');
const startBtn = document.getElementById('startBtn');
const historyTable = document.getElementById('history-table');

playerNameInput.addEventListener('input', () => {
  startBtn.disabled = playerNameInput.value.trim() === '';
});

startBtn.addEventListener('click', () => {
  playerName = playerNameInput.value.trim();
  if (playerName) {
    startContainer.style.display = 'none';
    quizContainer.style.display = 'block';
    startTime = Date.now();
    currentQuestion = 0;
    score = 0;
    showQuestion();
  }
});

function showQuestion() {
  answersEl.innerHTML = "";
  resultEl.style.display = 'none';
  if (currentQuestion >= quizData.length) {
    showFinalScore();
    return;
  }
  const q = quizData[currentQuestion];
  questionEl.textContent = `ข้อที่ ${currentQuestion + 1}: ${q.question}`;
  q.answers.forEach((answer) => {
    const btn = document.createElement("button");
    btn.textContent = answer.text;
    btn.onclick = () => selectAnswer(answer);
    answersEl.appendChild(btn);
  });
}

function selectAnswer(answer) {
  if (answer.correct) {
    score++;
  }
  disableAnswers();
  showExplanation(answer.correct);
}

function disableAnswers() {
  Array.from(answersEl.children).forEach(btn => btn.disabled = true);
}

function showExplanation(correct) {
  const q = quizData[currentQuestion];
  resultEl.style.display = 'block';
  resultEl.innerHTML = `
    <div class="score">${correct ? "ถูกต้อง!" : "ผิด!"}</div>
    <div class="explanation">${q.explanation}</div>
    <button onclick="nextQuestion()">ข้อต่อไป</button>
  `;
}

function nextQuestion() {
  currentQuestion++;
  showQuestion();
}

function showFinalScore() {
  const endTime = Date.now();
  const duration = ((endTime - startTime) / 1000).toFixed(1);
  quizContainer.style.display = 'none';
  resultEl.style.display = 'block';
  resultEl.innerHTML = `
    <div class="score">คุณได้คะแนน ${score} จาก ${quizData.length} ข้อ</div>
    <div style="text-align:center; margin-top:10px;">ใช้เวลาเล่นทั้งหมด: ${duration} วินาที</div>
    <button onclick="restartGame()">เล่นใหม่</button>
  `;

  // บันทึกคะแนนลง localStorage
  saveScore(playerName, score, duration);
  loadHistory();
}

function saveScore(name, score, duration) {
  let history = JSON.parse(localStorage.getItem('quizHistory')) || [];
  const now = new Date();
  const record = {
    name: name,
    score: score,
    total: quizData.length,
    duration: duration,
    date: now.toLocaleDateString(),
    time: now.toLocaleTimeString()
  };
  history.push(record);
  // เก็บไว้ล่าสุด 20 รายการ
  if (history.length > 20) history.shift();
  localStorage.setItem('quizHistory', JSON.stringify(history));
}

function loadHistory() {
  let history = JSON.parse(localStorage.getItem('quizHistory')) || [];
  if (history.length === 0) {
    historyTable.innerHTML = "<p style='text-align:center; color:#666;'>ยังไม่มีคะแนนย้อนหลัง</p>";
    return;
  }
  // สร้างตารางคะแนนย้อนหลัง
  let tableHTML = `<table>
    <thead>
      <tr>
        <th>ลำดับ</th>
        <th>ชื่อผู้เล่น</th>
        <th>คะแนน</th>
        <th>วันที่</th>
        <th>เวลา</th>
        <th>เวลาเล่น (วินาที)</th>
      </tr>
    </thead><tbody>`;
  history.slice().reverse().forEach((rec, i) => {
    tableHTML += `<tr>
      <td>${i + 1}</td>
      <td>${rec.name}</td>
      <td>${rec.score} / ${rec.total}</td>
      <td>${rec.date}</td>
      <td>${rec.time}</td>
      <td>${rec.duration}</td>
    </tr>`;
  });
  tableHTML += '</tbody></table>';
  historyTable.innerHTML = tableHTML;
}

function restartGame() {
  resultEl.style.display = 'none';
  startContainer.style.display = 'block';
  playerNameInput.value = '';
  startBtn.disabled = true;
  loadHistory();
}

// โหลดคะแนนย้อนหลังตอนหน้าโหลดเสร็จ
loadHistory();

</script>

</body>
</html>

          <script>console.log("Hello from JS!");</script>
        </body>
        </html>
      